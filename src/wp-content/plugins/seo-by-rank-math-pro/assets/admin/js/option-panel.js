!function(){"use strict";var t={"./assets/admin/src/helpers/addNotice.js":function(t,e,a){a.r(e),a.d(e,{default:function(){return i}});var n=a("jquery"),r=a.n(n);function i(t,e,a,n){e=e||"error",n=n||!1;var i=r()('<div class="notice notice-'+e+' is-dismissible"><p>'+t+"</p></div>").hide();a.next(".notice").remove(),a.after(i),i.slideDown(),r()(document).trigger("wp-updates-notice-added"),r()("html,body").animate({scrollTop:i.offset().top-50},"slow"),n&&setTimeout((function(){i.fadeOut((function(){i.remove()}))}),n)}},"./assets/admin/src/helpers/ajax.js":function(t,e,a){a.r(e),a.d(e,{default:function(){return i}});var n=a("jquery"),r=a.n(n);function i(t,e,a){return r().ajax({url:rankMath.ajaxurl,type:a||"POST",dataType:"json",data:r().extend(!0,{action:"rank_math_"+t,security:rankMath.security},e)})}},jquery:function(t){t.exports=jQuery},lodash:function(t){t.exports=lodash},"@wordpress/api-fetch":function(t){t.exports=wp.apiFetch},"@wordpress/i18n":function(t){t.exports=wp.i18n}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,a),i.exports}a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};!function(){a.r(n);var t,e=a("jquery"),r=a.n(e),i=a("lodash"),o=a("@wordpress/api-fetch"),s=a.n(o),c=a("@wordpress/i18n"),d=a("./assets/admin/src/helpers/ajax.js"),l=a("./assets/admin/src/helpers/addNotice.js");(t=r())((function(){window.rankMathOptions={init:function(){this.preview(),this.misc(),this.scCache(),rankMathAdmin.variableInserter(),this.searchEngine.init(),this.addressFormat(),this.siteMap(),this.robotsEvents(),this.proRedirect(),this.contentAI(),this.localSEO(),this.htmlSitemap()},searchEngine:{init:function(){t("#setting-panel-analytics").addClass("exclude"),this.form=t(".rank-math-search-options"),this.wrap=this.form.closest(".rank-math-wrap-settings"),this.input=this.form.find("input"),this.tabs=this.wrap.find(".rank-math-tabs"),this.panels=this.wrap.find(".rank-math-tab:not(.exclude)"),this.ids=["general","titles","sitemap"],this.indexes={},this.buildIndex(),this.events()},events:function(){var e=this,a=e.tabs.find(">.rank-math-tabs-navigation"),n=t('<div class="rank-math-search-dropdown"></div>');e.tabs.find(">.rank-math-tabs-content").prepend('<div class="rank-math-setting-search-empty hidden">No results found.</div>'),e.form.append(n),n.hide().empty();var r=(0,i.debounce)((function(t){e.wrap.addClass("searching"),e.searchIndexes(t,n)}),300);e.form.on("click",".clear-search",(function(t){t.preventDefault(),e.input.val(""),e.clearSearch(a)})),this.ids.forEach((function(t){n.append(e.indexes[t])})),e.input.on("input",(function(){if(""===e.input.val())return e.clearSearch(a,n),!1;r(e.input.val().toLowerCase())})),n.on("click",".cmb-row",(function(){var e=t(this),a=window.location.origin+window.location.pathname+"?page=rank-math-options-"+e.data("settings-id")+"#"+e.closest(".dropdown-tab").data("id");a===window.location.href?window.location.reload():window.location=a}));var o=t(".rank-math-search-options, .rank-math-search-options *, .rank-math-search-dropdown, .rank-math-search-dropdown *");t("body").on("click",(function(e){t(e.target).is(o)||n.hide()}))},searchIndexes:function(e,a){if(!(1>e.trim().length)){a.find(".dropdown-tab").each((function(){var e=t(this);"setting-panel-analytics"===e.attr("data-id")&&e.css("display","none")}));var n=a.find(".cmb-row"),r=0;n.hide().each((function(){var a=t(this);a.text().trim().toLowerCase().includes(e)&&(a.show(),++r)})),a.show(),a.toggleClass("empty",0===r)}},clearSearch:function(e,a){a=a||!1,this.wrap.removeClass("searching search-no-results"),t(">a.active",e).trigger("click"),a?a.hide():(t(".cmb-row").show(),t(".rank-math-cmb-dependency",".cmb-form, .rank-math-metabox-wrap").each((function(){rankMathAdmin.loopDependencies(t(this))})))},buildIndex:function(){var e=window.localStorage.getItem("rank-math-option-search-index"),a=void 0===e||e!==rankMath.version;this.ids.forEach((function(e){this.getIndex(e,a),this.indexes[e]=t(window.localStorage.getItem("rank-math-option-"+e+"-index"))}),this),a&&window.localStorage.setItem("rank-math-option-search-index",rankMath.version)},getIndex:function(e,a){a&&t("<div/>").load(rankMath.adminurl+"?page=rank-math-options-"+e,(function(a,n){if("error"!==n){var r=t(a).find(".rank-math-tabs-content");r.find(".rank-math-tab").each((function(){var e=t(this);e.removeClass().addClass("dropdown-tab"),e.attr("data-id",e.attr("id")),e.removeAttr("id"),e.find(".rank-math-notice").remove(),e.find(".rank-math-desc").remove(),e.find("input, select, textarea").remove()})),r.find(".rank-math-tab").removeClass().addClass("dropdown-tab").removeAttr("id"),r.find(".cmb-row").each((function(){var a=t(this);a.attr("data-settings-id",e),(a.hasClass("cmb-type-title")||a.hasClass("cmb-type-notice")||a.hasClass("rank-math-notice")||a.hasClass("rank-math-desc")||a.hasClass("rank-math-exclude-from-search"))&&a.remove(),a.find(".cmb-td").children(":not(.cmb2-metabox-description)").remove(),a.find("label,.cmb2-metabox-description").unwrap(),a.removeAttr("data-fieldtype")})),r=r.html().replace(/(\r\n\t|\n|\r\t)/gm,""),window.localStorage.setItem("rank-math-option-"+e+"-index",r)}}))}},scCache:function(){t(".console-cache-delete").on("click",(function(e){e.preventDefault();var a=t(this),n=a.data("days"),r=-1===n?rankMath.confirmClearImportedData:rankMath.confirmClear90DaysCache;window.confirm(r+" "+rankMath.confirmAction)&&(a.prop("disabled",!0),(0,d.default)("analytics_delete_cache",{days:n},"GET").always((function(){a.prop("disabled",!1)})).done((function(e){e&&e.success&&((0,l.default)(rankMath.feedbackCacheDeleted,"success",t("h1",".rank-math-wrap-settings")),t(".rank-math-console-db-info").remove(),a.closest(".cmb-td").append(e.message))})))}));var e=t("#console_caching_control");t(".console-cache-update-manually").on("click",(function(a){a.preventDefault();var n=t(this),r=e.val();n.prop("disabled",!0),(0,d.default)("analytic_start_fetching",{days:r},"GET").done((function(e){e&&e.success?((0,l.default)(e.message,"success",t("h1.page-title")),n.text("Fetching in Progress"),t(".cancel-fetch").prop("disabled",!1)):(0,l.default)("Unable to update cache due to: "+e.error,"error",t("h1.page-title"))}))})),t(".cancel-fetch").on("click",(function(e){e.preventDefault(),t(this).prop("disabled",!0),(0,d.default)("analytic_cancel_fetching",{},"GET").done((function(t){t&&t.success&&window.location.reload()}))}))},addressFormat:function(){var e=t("input[type=text], textarea",".rank-math-address-format");if(e.length){e.attr("autocomplete","off"),e.wrap('<div class="rank-math-variables-wrap"/>');var a=t("body"),n=e.parent(".rank-math-variables-wrap");n.append('<a href="#" class="rank-math-variables-button button button-secondary button-address"><span class="dashicons dashicons-arrow-down-alt2"></span></a>');var r=t("<ul/>"),i=t('<div class="rank-math-variables-dropdown"></div>');t.each({"{address} {locality}, {region} {postalcode}":"(New York, NY 12345)","{address} {postalcode}, {locality} {region}":"(New York 12345, NY)","{address} {locality} {postalcode}":"(New York NY 12345)","{postalcode} {region} {locality} {address}":"(12345 NY New York)","{address} {locality}":"(New York NY)"},(function(t,e){r.append('<li data-var="'+e+'"><strong>'+t+"</strong></li>")})),i.append(r),t("rank-math-variables-wrap:eq(0)").append(i);var o=t(".rank-math-variables-button, .rank-math-variables-button *, .rank-math-variables-dropdown, .rank-math-variables-dropdown *");a.on("click",(function(e){t(e.target).is(o)||i.hide()}));var s=i.find("input"),c=i.find("li");t(n).on("click",".rank-math-variables-button",(function(e){e.preventDefault(),t(this).after(i),c.show(),i.show(),s.val("").focus()})),i.on("click","li",(function(e){e.preventDefault();var a=t(this);a.closest(".rank-math-variables-wrap").find("textarea").val(a.find("strong").text())}))}},misc:function(){void 0!==r().fn.select2&&t("[data-s2-pages]").select2({allowClear:!0,placeholder:(0,c.__)("Select Page","rank-math"),ajax:{url:rankMath.ajaxurl+"?action=rank_math_search_pages",data:function(t){return{term:t.term,security:rankMath.security}},dataType:"json",delay:250},width:"100%",minimumInputLength:2}).on("select2:select",(function(e){var a=e.params.data;t(this).closest(".cmb-td").find(".rank-math-selected-page").prop("href",a.url).text(a.url)})),t("#htaccess_accept_changes").on("change",(function(){t("#htaccess_content").prop("readonly",!this.checked)})),t(".reset-options").on("click",(function(){return!!window.confirm("Are you sure? You want to reset settings.")&&(t(window).off("beforeunload"),!0)}));var e=t(".rank-math-tabs");setTimeout((function(){window.localStorage.removeItem(e.attr("id"))}),1e3),t(".save-options").on("click",(function(){var a=t("> .rank-math-tabs-navigation > a.active",e);return window.localStorage.setItem(e.attr("id"),a.attr("href")),t(window).off("beforeunload"),!0}));var a=!1;t(".cmb-form").on("change","input:not(.notrack), textarea:not(.notrack), select:not(.notrack)",(function(){a=!0})),t(window).on("beforeunload",(function(){if(a)return"Are you sure? You didn't finish the form!"})),t(".custom-sep").on("keyup",(function(){var e=t(this);e.closest("li").find("input.cmb2-option").val(e.text()).trigger("change")})),t(".cmb-form").on("keydown","input, textarea",(function(e){"Enter"===e.key&&((e.ctrlKey||e.metaKey)&&t("#submit-cmb").trigger("click"),"TEXTAREA"!==this.tagName&&e.preventDefault())}))},preview:function(){t("[data-preview]").on("change",(function(){var e=t(this),a=null,n="";if(e.is(":radio")&&(a=e.closest(".cmb-td")),null!==a)if(a.hasClass("done"))e.is(":checked")&&(n=a.find("h5")).text(n.data("title").format(e.val()));else if(a.addClass("done"),"title"===e.data("preview")){var r="";r+='<div class="rank-math-preview-title" data-title="Preview"><div>',r+='<h5 data-title="'+rankMath.postTitle+" {0} "+rankMath.blogName+'"></h5>',r+="<span>"+rankMath.postUri+"</span>",r+="</div></div>",a.append(r),(n=a.find("h5")).text(n.data("title").format(e.val()))}})).trigger("change")},siteMap:function(){var e=t(".sitemap-nginx-notice");e.length&&(e.on("click","a span",(function(t){return t.preventDefault(),e.toggleClass("active"),!1})),e.on("click","a.sitemap-close-notice",(function(t){return t.preventDefault(),(0,d.default)("remove_nginx_notice",{},"GET").done((function(){e.remove()})),!1})))},robotsEvents:function(){t(".rank-math-robots-data").each((function(){var e=t(this).find("ul li:first-child input"),a=t(this).find("ul li:nth-child(2) input");e.on("change",(function(){e.is(":checked")&&a.prop("checked",!1).trigger("change")})),a.on("change",(function(){a.is(":checked")&&e.prop("checked",!1)}))}))},proRedirect:function(){t(".cmb-redirector-element").on("click",(function(e){var a=t(e.target);if(a.is("a")||a.closest("a").length)return!0;var n=t(this),r=n.data("url");if(!r)return!0;e.preventDefault(),n.css("cursor","pointer"),window.open(r)}))},contentAI:function(){var e=t(".buy-more-credits .update-credit");e.length&&e.on("click",(function(t){return t.preventDefault(),e.addClass("loading"),s()({method:"POST",path:"/rankmath/v1/ca/getCredits"}).catch((function(t){alert(t.message)})).then((function(t){if(t.error)return alert(t.error),void e.removeClass("loading").next("strong").text(t.credits);e.removeClass("loading").next("strong").text(t)})),!1}))},localSEO:function(){var t=r()("#website_name"),e=r()("#knowledgegraph_name");t.val()===e.val()&&t.on("keyup",(function(){e.val(t.val())}))},htmlSitemap:function(){var t=r()("#html_sitemap"),e=r()(".rank-math-html-sitemap");t.on("change",(function(){t.is(":checked")?e.removeClass("hidden"):e.addClass("hidden")}))}},window.rankMathOptions.init()}))}()}();