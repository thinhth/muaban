this.itsec=this.itsec||{},this.itsec["import-export"]=this.itsec["import-export"]||{},this.itsec["import-export"].data=(window.itsecWebpackJsonP=window.itsecWebpackJsonP||[]).push([[23],{"1ZqX":function(e,t){!function(){e.exports=this.wp.data}()},GRId:function(e,t){!function(){e.exports=this.wp.element}()},Lykm:function(e,t,r){"use strict";r.r(t),r.d(t,"STORE_NAME",(function(){return ot}));var n={};r.r(n),r.d(n,"receiveSources",(function(){return h})),r.d(n,"receiveExports",(function(){return E})),r.d(n,"createExport",(function(){return g})),r.d(n,"deleteExport",(function(){return y})),r.d(n,"deleteExports",(function(){return O})),r.d(n,"validateExportFile",(function(){return m})),r.d(n,"validateExportData",(function(){return C})),r.d(n,"wpConnectReset",(function(){return _})),r.d(n,"wpConnectEnterWebsite",(function(){return b})),r.d(n,"wpConnectDiscoverRestApi",(function(){return S})),r.d(n,"wpConnectApplicationApproved",(function(){return P})),r.d(n,"wpConnectApplicationRejected",(function(){return v})),r.d(n,"wpConnectReceiveAppPassword",(function(){return T})),r.d(n,"wpConnectReceiveExports",(function(){return x})),r.d(n,"wpConnectReceiveSources",(function(){return w})),r.d(n,"wpConnectCreateExport",(function(){return j})),r.d(n,"wpConnectDeleteCredentials",(function(){return I})),r.d(n,"editImportSources",(function(){return A})),r.d(n,"editImportUserMap",(function(){return D})),r.d(n,"editImportRoleMap",(function(){return W})),r.d(n,"transformImportExportData",(function(){return M})),r.d(n,"applyExportData",(function(){return L})),r.d(n,"completeImport",(function(){return k})),r.d(n,"resetImport",(function(){return N})),r.d(n,"RECEIVE_SOURCES",(function(){return U})),r.d(n,"RECEIVE_EXPORTS",(function(){return F})),r.d(n,"CREATE_EXPORT",(function(){return V})),r.d(n,"FINISH_EXPORT",(function(){return X})),r.d(n,"DELETE_EXPORT",(function(){return q})),r.d(n,"SET_EXPORT_ERROR",(function(){return H})),r.d(n,"VALIDATE_EXPORT_FILE",(function(){return G})),r.d(n,"VALIDATE_EXPORT_DATA",(function(){return B})),r.d(n,"VALIDATED_EXPORT",(function(){return J})),r.d(n,"EDIT_IMPORT_SOURCES",(function(){return z})),r.d(n,"EDIT_IMPORT_USER_MAP",(function(){return Q})),r.d(n,"EDIT_IMPORT_ROLE_MAP",(function(){return Y})),r.d(n,"IMPORT_RESET",(function(){return K})),r.d(n,"WPC_RESET",(function(){return Z})),r.d(n,"WPC_ENTER_WEBSITE",(function(){return $})),r.d(n,"WPC_DISCOVER_REST_API",(function(){return ee})),r.d(n,"WPC_DISCOVERED_REST_API",(function(){return te})),r.d(n,"WPC_APPLICATION_REJECTED",(function(){return re})),r.d(n,"WPC_APPLICATION_APPROVED",(function(){return ne})),r.d(n,"WPC_CHECK_SUPPORT",(function(){return oe})),r.d(n,"WPC_RECEIVE_EXPORTS",(function(){return ie})),r.d(n,"WPC_RECEIVE_SOURCES",(function(){return se})),r.d(n,"WPC_CREATE_EXPORT",(function(){return ce})),r.d(n,"WPC_FINISH_EXPORT",(function(){return ue})),r.d(n,"WPC_RECEIVE_APP_PASSWORD",(function(){return ae})),r.d(n,"WPC_DELETE_CREDENTIALS",(function(){return de})),r.d(n,"WPC_DELETE_CREDENTIALS_SUCCESS",(function(){return le}));var o={};r.r(o),r.d(o,"getSources",(function(){return Re})),r.d(o,"getExports",(function(){return Se})),r.d(o,"isCreatingExport",(function(){return Pe})),r.d(o,"getLastCreatedExportResult",(function(){return ve})),r.d(o,"getImportExportData",(function(){return Te})),r.d(o,"getImportExportValidationResult",(function(){return xe})),r.d(o,"getImportExportSource",(function(){return we})),r.d(o,"getImportSources",(function(){return je})),r.d(o,"getImportUserMap",(function(){return Ie})),r.d(o,"getImportRoleMap",(function(){return Ae})),r.d(o,"getImportExportUserReplacementTargets",(function(){return We})),r.d(o,"getImportExportRoleReplacementTargets",(function(){return Me})),r.d(o,"getWpConnectStep",(function(){return Le})),r.d(o,"getWpConnectSiteUrl",(function(){return ke})),r.d(o,"getWpConnectExports",(function(){return Ne})),r.d(o,"hasWpConnectExports",(function(){return Ue})),r.d(o,"getWpConnectSources",(function(){return Fe})),r.d(o,"wpConnectIsCreating",(function(){return Ve})),r.d(o,"getWpConnectExport",(function(){return Xe})),r.d(o,"isDeletingWpConnectCredential",(function(){return qe})),r.d(o,"getWpConnectCredentials",(function(){return He})),r.d(o,"areWpConnectCredentialsExpired",(function(){return Ge})),r.d(o,"getWpConnectDiscoveryResult",(function(){return Be})),r.d(o,"getWpConnectCredentialsIntrospection",(function(){return Je})),r.d(o,"getWpConnectRestApiEndpoint",(function(){return ze})),r.d(o,"getWpConnectAppPasswordsAuthEndpoint",(function(){return Qe}));var i={};r.r(i),r.d(i,"getSources",(function(){return Ye})),r.d(i,"getExports",(function(){return Ke})),r.d(i,"getWpConnectExports",(function(){return Ze})),r.d(i,"getWpConnectSources",(function(){return $e})),r.d(i,"getWpConnectCredentialsIntrospection",(function(){return et}));var s=r("1ZqX"),c=r("z1rk"),u=r("l3Sj"),a=r("Td6G");function d(e){return{type:"WP_CONNECT_FETCH",request:e}}function l(e,t){let{url:r,path:n,headers:o,...i}=t;const s=e.select(ot).getWpConnectCredentials();if(r=r||e.select(ot).getWpConnectRestApiEndpoint(n),!r)throw{code:"not_connected",message:Object(u.__)("iThemes Security is not connected to a site to fetch exports for.","it-l10n-ithemes-security-pro")};if(!s)throw{code:"not_authenticated",message:Object(u.__)("iThemes Security has not authenticated with the site to fetch exports for.","it-l10n-ithemes-security-pro")};return{url:r,headers:{Authorization:"Basic "+window.btoa(s.username+":"+s.password),...o||{}},credentials:"omit",...i}}var p={WP_CONNECT_FETCH:Object(s.createRegistryControl)(e=>t=>{let{request:r}=t;try{return c.controls.API_FETCH({request:l(e,r)})}catch(e){return Promise.reject(e)}}),WP_CONNECT_FETCH_RESULT:Object(s.createRegistryControl)(e=>t=>{let{request:r}=t;try{return c.controls.API_FETCH_RESULT({request:l(e,r)})}catch(e){return new a.b(a.b.ERROR,new a.c(e.code,e.message))}})},f=r("YLtl");function h(e){return{type:U,sources:e}}function E(e){return{type:F,exports:e}}function*g(e){yield{type:V,export:e};const t=yield Object(c.apiFetchResult)({path:"/ithemes-security/v1/import-export/exports",method:"POST",data:e});return yield{type:X,result:t},t}function*y(e){yield Object(c.apiFetch)({path:"/ithemes-security/v1/import-export/exports/"+e,method:"DELETE"}),yield{type:q,id:e}}function*O(e){let t;try{t=yield Object(c.apiFetch)({path:"/batch/v1",method:"POST",data:{requests:e.map(e=>({method:"DELETE",path:"/ithemes-security/v1/import-export/exports/"+e}))}})}catch(e){return yield Object(c.createNotice)("error",e.message||Object(u.__)("Could not delete exports.","it-l10n-ithemes-security-pro")),e}for(let r=0;r<e.length;r++){const n=t.responses[r];n.status>=400?yield{type:H,id:e[r],error:n.body}:yield{type:q,id:e[r]}}}function*m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upload";yield{type:G,file:e,source:t};const r=new window.FormData;r.append("file",e);const n=yield Object(c.apiFetchResult)({path:"ithemes-security/rpc/import/validate",method:"POST",body:r});yield{type:J,result:n}}function*C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"connect";yield{type:B,data:e,source:t};const r=yield Object(c.apiFetchResult)({path:"ithemes-security/rpc/import/validate",method:"POST",data:e});yield{type:J,result:r}}function*_(){yield Object(c.dispatch)(ot,"wpConnectDeleteCredentials"),yield{type:Z}}function b(e){return{type:$,url:e}}function R(e){return Object(c.apiFetchResult)({path:"/ithemes-security/rpc/discover",method:"POST",data:{url:e}})}function*S(e){yield{type:ee,url:e};const t=yield R(e);return yield{type:te,result:t},t}function*P(e,t){yield{type:ne,url:e,credentials:t};const r=yield R(e),n=r.isSuccess()&&r.data.itsec.routes.hasOwnProperty("/ithemes-security/v1/import-export/exports");yield{type:oe,discovery:r,hasSupport:n}}function v(){return{type:re}}function T(e){return{type:ae,introspection:e}}function x(e){return{type:ie,exports:e}}function w(e){return{type:se,sources:e}}function*j(e){yield{type:ce,export:e};const t=yield(r={data:e,path:"/ithemes-security/v1/import-export/exports",method:"POST"},{type:"WP_CONNECT_FETCH_RESULT",request:r});var r;return yield{type:ue,result:t},t}function*I(){if(!(yield Object(c.select)(ot,"getWpConnectCredentials")))return;yield{type:de};const e=yield Object(c.select)(ot,"getWpConnectCredentialsIntrospection"),t=Object(f.get)(e,["_links","self",0,"href"]);if(t)try{yield d({url:t,method:"DELETE"})}catch(e){console.error(e)}yield{type:le}}function A(e){return{type:z,sources:e}}function D(e){return{type:Q,map:e}}function W(e){return{type:Y,map:e}}function*M(){const e=yield Object(c.select)(ot,"getImportExportData"),t=yield Object(c.select)(ot,"getImportSources"),r=yield Object(c.select)(ot,"getImportUserMap"),n=yield Object(c.select)(ot,"getImportRoleMap");return yield Object(c.apiFetch)({method:"POST",path:"/ithemes-security/rpc/import/transform",data:{export:e,sources:t,user_map:r,role_map:n}})}function*L(){yield Object(c.dispatch)(c.MODULES_STORE_NAME,"resetModuleEdits"),yield Object(c.dispatch)(c.MODULES_STORE_NAME,"resetSettingEdits"),yield Object(c.dispatch)("ithemes-security/user-groups-editor","resetAllEdits");const e=yield*M(),t=yield Object(c.select)(ot,"getImportSources");for(const r of t){if(!e.sources[r])continue;const t=e.sources[r];switch(r){case"modules":for(const[e,r]of Object.entries(t))yield Object(c.dispatch)(c.MODULES_STORE_NAME,"editModule",e,{status:{selected:r}});break;case"settings":for(const[e,r]of Object.entries(t))yield Object(c.dispatch)(c.MODULES_STORE_NAME,"editSettings",e,r);break;case"user-groups":const r=yield Object(c.select)("ithemes-security/user-groups","getSettingDefinitions",null,void 0,{skipConditions:!0}),n=yield Object(c.select)("ithemes-security/user-groups","getMatchables");for(const e of n)"user-group"!==e.type||Object(f.find)(t,{id:e.id})||(yield Object(c.dispatch)("ithemes-security/user-groups-editor","markGroupForDeletion",e.id));for(const o of t){if(!Object(f.find)(n,{id:o.id})){if(!(yield Object(c.dispatch)("ithemes-security/user-groups-editor","createLocalGroup",o.id)))continue}yield Object(c.dispatch)("ithemes-security/user-groups-editor","editGroup",o.id,{...o,roles:Object(f.map)(o.roles,"slug"),users:Object(f.map)(o.users,"id")});for(const t of r)if(e.sources.settings[t.id])for(const r of Object.keys(t.settings)){const n=Object(f.get)(e.sources.settings[t.id],r);Array.isArray(n)&&(yield Object(c.dispatch)("ithemes-security/user-groups-editor","editGroupSetting",o.id,t.id,r,n.includes(o.id)))}}}}}function*k(){const e=yield Object(c.select)(ot,"getImportExportData"),t=yield Object(c.select)(ot,"getImportSources"),r=yield Object(c.select)(ot,"getImportUserMap"),n=yield Object(c.select)(ot,"getImportRoleMap");return yield Object(c.apiFetchResult)({path:"/ithemes-security/rpc/import/run",method:"POST",data:{export:e,user_map:r,role_map:n,sources:Object(f.difference)(t,["modules","settings","user-groups"])}})}function N(){return{type:K}}const U="RECEIVE_SOURCES",F="RECEIVE_EXPORTS",V="CREATE_EXPORT",X="FINISH_EXPORT",q="DELETE_EXPORT",H="SET_EXPORT_ERROR",G="VALIDATE_EXPORT_FILE",B="VALIDATE_EXPORT_DATA",J="VALIDATED_EXPORT",z="EDIT_IMPORT_SOURCES",Q="EDIT_IMPORT_USER_MAP",Y="EDIT_IMPORT_ROLE_MAP",K="IMPORT_RESET",Z="WPC_RESET",$="WPC_ENTER_WEBSITE",ee="WPC_DISCOVER_REST_API",te="WPC_DISCOVERED_REST_API",re="WPC_APPLICATION_REJECTED",ne="WPC_APPLICATION_APPROVED",oe="WPC_CHECK_SUPPORT",ie="WPC_RECEIVE_EXPORTS",se="WPC_RECEIVE_SOURCES",ce="WPC_CREATE_EXPORT",ue="WPC_FINISH_EXPORT",ae="WPC_RECEIVE_APP_PASSWORD",de="WPC_DELETE_CREDENTIALS",le="WPC_DELETE_CREDENTIALS_SUCCESS",pe=/(?:(?:\[(?:(?:(["'])((?:\\.|(?:(?!\1).))*)\1)|([-+]?\d+))\])|(?:\[(.?))|(?:(?:^|(?:(?!^)\.))([^\s"'\`\[\].\\]+))|(.))/g,fe=/\\(.)/g,he=e=>{let t,r=[];for(;t=pe.exec(e);){let n,[,o,i,s,,c]=t;if(o)n=i.replace(fe,(...e)=>e[1]===o?o:e[0]);else if(s)n=+s;else{if(!c)throw pe.lastIndex=0,new SyntaxError(`Invalid step @ ${t.index}: ${JSON.stringify(e)}`);n=c}r.push(n)}return r},{isArray:Ee}=Array,{defineProperty:ge,values:ye}=Object,Oe=Symbol(),me=Symbol(),Ce=((e={})=>{const{collect:t=ye,default:r,flatMap:n="*",map:o="**",parser:i=he,split:s=i}=e,c=!1===n?me:n,u=!1===o?Oe:o,a="string"==typeof s?e=>e.split(s):s;return ge((function e(n,o,...i){let s;switch(typeof o){case"string":s=a(o);break;case"number":case"symbol":s=[o];break;default:if(!Ee(o))throw new TypeError("Invalid path: expected a string, array, number, or symbol");s=o}const d=i.length?i[0]:r,l=e=>void 0===e?d:e,p=s.length-1;for(let r=0;r<=p;++r){if(!n)return d;const o=s[r],i=o===c;if(i||o===u){const o=Ee(n)?n:t(n);let c;if(r===p)c=l;else{const t=s.slice(r+1);c=r=>e(r,t,d)}return i?o.flatMap(c):o.map(c)}n=Number.isInteger(o)&&Ee(n)?n[o<0?n.length+o:o]:n[o]}return l(n)}),"parse",{value:a})})();var _e=r("pPDe");const be=[];function Re(e){return e.sources||be}function Se(e){return e.exports.items||be}function Pe(e){return e.creating.inProgress}function ve(e){return e.creating.lastResult}function Te(e){return e.import.exportData}function xe(e){return e.import.validatedExport}function we(e){return e.import.source}function je(e){return e.import.sources}function Ie(e){return e.import.userMap}function Ae(e){return e.import.roleMap}function De(e,t,r,n){const o=[];for(const i of e){if(!t.includes(i.slug))continue;const e=i.transform_map[n];if(e&&r.sources[i.slug])for(const t of e)o.push(...Ce(r.sources[i.slug],t))}return"users"===n?Object(f.uniqBy)(o,"id"):"roles"===n?Object(f.uniqBy)(o,"slug"):o}const We=Object(_e.a)(e=>De(Re(e),je(e),e.import.exportData,"users"),e=>[Re(e),je(e),e.import.exportData]),Me=Object(_e.a)(e=>De(Re(e),je(e),e.import.exportData,"roles"),e=>[Re(e),je(e),e.import.exportData]);function Le(e){return e.wpConnect.step}function ke(e){return e.wpConnect.siteUrl}function Ne(e){return e.wpConnect.exports||be}function Ue(e){return Ne(e).length>0}function Fe(e){return e.wpConnect.sources||be}function Ve(e){return e.wpConnect.isCreating}function Xe(e){return e.wpConnect.createdExport}function qe(e){return e.wpConnect.isDeleting&&!!He(e)}function He(e){return e.credentials}function Ge(e){return!He(e)&&["appAuthed","hasSupport","noSupport"].includes(Le(e))}function Be(e){return e.wpConnect.discovery}function Je(e){return e.wpConnect.introspection}function ze(e,t){const r=Object(f.get)(e,["wpConnect","discovery","data","itsec","routes",t,"_links","self",0,"href"]);if(r)return r;const n=Object(f.get)(e,["wpConnect","discovery","data","url"],"");if(!n.length)return;let o=t;return-1!==n.indexOf("?")&&(o=o.replace("?","&")),o=o.replace(/^\//,""),-1!==n.indexOf("?")&&(o=o.replace("?","&")),n+o}function Qe(e){return Object(f.get)(e,["wpConnect","discovery","data","index","authentication","application-passwords","endpoints","authorization"])}const Ye={isFulfilled:e=>!!e.sources,*fulfill(){const e=yield Object(c.apiFetch)({path:"/ithemes-security/v1/import-export/sources"});yield h(e)}},Ke={isFulfilled:e=>!!e.exports.items,*fulfill(){const e=yield Object(c.apiFetch)({path:"/ithemes-security/v1/import-export/exports"});yield E(e)}},Ze={isFulfilled:e=>!!e.wpConnect.exports,*fulfill(){try{const e=yield d({path:"/ithemes-security/v1/import-export/exports"});yield x(e)}catch(e){yield x([]),yield Object(c.createNotice)("error",e.message||Object(u.__)("An unknown error occurred when fetching exports."))}}},$e={isFulfilled:e=>!!e.wpConnect.sources,*fulfill(){try{const e=yield d({path:"/ithemes-security/v1/import-export/sources"});yield w(e)}catch(e){yield w([]),yield Object(c.createNotice)("error",e.message||Object(u.__)("An unknown error occurred when fetching export sources."))}}},et={isFulfilled:e=>!!e.wpConnect.introspection,*fulfill(){try{const e=yield d({path:"/wp/v2/users/me/application-passwords/introspect"});yield T(e)}catch(e){yield T({}),yield Object(c.createNotice)("error",e.message||Object(u.__)("An unknown error occurred when fetching credential details."))}}},tt={step:"enterWebsite",siteUrl:"",discovery:null,exports:null,sources:null,isCreating:!1,isDeleting:!1,createdExport:null,introspection:null};const rt={isValidating:!1,validatedExport:null,exportData:null,source:"",sources:[],userMap:{},roleMap:{}};var nt=Object(s.combineReducers)({exports(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:null,errors:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{...e,items:[...t.exports]};case X:return t.result.isSuccess()&&e.items?{...e,items:[t.result.data,...e.items]}:e;case q:return{...e,items:e.items.filter(e=>e.id!==t.id)};case H:return{...e,errors:{...e.errors,[t.id]:t.error}};default:return e}},creating(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inProgress:!1,lastResult:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return{...e,inProgress:!0,lastResult:null};case X:return{...e,inProgress:!1,lastResult:t.result};default:return e}},sources(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===U?[...t.sources]:e},import:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:case B:return{...e,isValidating:!0,validatedExport:null,exportData:null,source:t.source};case J:const r={...e,isValidating:!1,validatedExport:t.result};return t.result.isSuccess()&&(r.exportData=t.result.data),r;case z:return{...e,sources:t.sources};case Q:return{...e,userMap:{...t.map}};case Y:return{...e,roleMap:{...t.map}};case K:return{...rt};default:return e}},wpConnect:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{...tt};case $:return{...tt,siteUrl:t.url};case ee:return{...e,step:"discovering"};case te:return{...e,discovery:t.result,step:t.result.isSuccess()&&Object(f.has)(t.result,["data","index","authentication","application-passwords"])?"awaitingAuth":"noAppPasswords"};case re:return{...e,step:"appRejected"};case ne:const r=t.url===e.discovery.data.index.url;return{...tt,discovery:r?e.discovery:null,step:"appAuthed",siteUrl:t.url};case oe:return{...e,discovery:t.discovery,step:t.hasSupport?"hasSupport":"noSupport"};case ie:return{...e,exports:t.exports};case se:return{...e,sources:t.sources};case ce:return{...e,isCreating:!0,createdExport:null};case ue:return{...e,isCreating:!1,createdExport:t.result};case ae:return{...e,introspection:t.introspection};case de:return{...e,isDeleting:!0};case le:return{...e,isDeleting:!1};default:return e}},credentials(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return null;case ne:return t.credentials;default:return e}}});const ot="ithemes-security/import-export";Object(s.registerStore)(ot,{controls:{...c.controls,...p},actions:n,selectors:o,resolvers:i,reducer:nt,persist:["import","wpConnect"]});r.p=window.itsecWebpackPublicPath},Mmq9:function(e,t){!function(){e.exports=this.wp.url}()},Td6G:function(e,t,r){"use strict";r.d(t,"c",(function(){return E})),r.d(t,"b",(function(){return O})),r.d(t,"p",(function(){return C})),r.d(t,"n",(function(){return _})),r.d(t,"k",(function(){return b})),r.d(t,"j",(function(){return R})),r.d(t,"e",(function(){return S})),r.d(t,"f",(function(){return P})),r.d(t,"d",(function(){return v})),r.d(t,"m",(function(){return T})),r.d(t,"a",(function(){return x})),r.d(t,"i",(function(){return w})),r.d(t,"h",(function(){return j})),r.d(t,"g",(function(){return I})),r.d(t,"l",(function(){return A})),r.d(t,"o",(function(){return D}));var n=r("YLtl"),o=r("GRId"),i=r("Mmq9"),s=r("lSNA"),c=r.n(s),u=r("92Nh"),a=r.n(u),d=r("tmk3"),l=r.n(d);function p(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}var f=new WeakMap,h=new WeakMap;class E{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;p(this,f,{writable:!0,value:{}}),p(this,h,{writable:!0,value:{}}),c()(this,"add",(e,t)=>(l()(this,f)[e]||(l()(this,f)[e]=[]),l()(this,f)[e].push(t),this)),c()(this,"hasErrors",()=>this.getErrorCodes().length>0),c()(this,"getErrorCodes",()=>Object.keys(l()(this,f))),c()(this,"getErrorCode",()=>this.getErrorCodes()[0]),c()(this,"getErrorMessages",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(t)return l()(e,f)[t];const r=[];for(const t in l()(e,f))l()(e,f).hasOwnProperty(t)&&r.concat(l()(e,f)[t]);return r})),c()(this,"getErrorMessage",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t=t||e.getErrorCode(),e.getErrorMessages(t)[0]})),c()(this,"getErrorData",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t=t||e.getErrorCode(),l()(e,h)[t]})),c()(this,"getAllErrorMessages",()=>{const e=[];for(const t in l()(this,f))l()(this,f).hasOwnProperty(t)&&e.push(...l()(this,f)[t]);return e}),t&&(r&&(l()(this,f)[t]=[r]),n&&(l()(this,h)[t]=n))}static fromPHPObject(e){const t=new E;return a()(t,f,e.errors),a()(t,h,e.error_data),t}static fromApiError(e){const t=new E;if(l()(t,f)[e.code]=[e.message],l()(t,h)[e.code]=e.data,e.additional_errors)for(const r of e.additional_errors)l()(t,f)[r.code]=[r.message],l()(t,h)[r.code]=r.data;return t}}var g=r("l3Sj");class y extends Error{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];super(e.message||Object(g.__)("An unknown error occurred.","it-l10n-ithemes-security-pro"),...r),Error.captureStackTrace&&Error.captureStackTrace(this,y),this.__response=e;for(const t in e)e.hasOwnProperty(t)&&Object.defineProperty(this,t,{value:e[t],configurable:!0,enumerable:!0,writable:!0})}toString(){return this.__response.toString()}getResponse(){return this.__response}}r("LhCv");class O{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];c()(this,"type",void 0),c()(this,"error",void 0),c()(this,"data",void 0),c()(this,"success",void 0),c()(this,"info",void 0),c()(this,"warning",void 0),this.type=e,this.error=t,this.data=r,this.success=n,this.info=o,this.warning=i,Object.seal(this)}isSuccess(){return this.type===O.SUCCESS}static async fromResponse(e){const t=t=>{var r;const n=null===(r=e.headers)||void 0===r?void 0:r.get("X-Messages-"+t);return n?JSON.parse(n):[]},r=204!==e.status&&e.json?await e.json():null,n=S(r),o=n.hasErrors()?O.ERROR:O.SUCCESS,i=t("Success"),s=t("Info"),c=t("Warning");return new O(o,n,r,i,s,c)}}Object.defineProperty(O,"SUCCESS",{value:"success",writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(O,"ERROR",{value:"error",writable:!1,enumerable:!1,configurable:!1});const m=Object(o.createContext)({getUrl(e){e="settings"===e?"itsec":"itsec-"+e;const t=Object(i.removeQueryArgs)(document.location.href,...Object.keys(Object(i.getQueryArgs)(document.location.href)));return Object(i.addQueryArgs)(t,{page:e})}});function C(e){const{getUrl:t}=Object(o.useContext)(m);return t(e)}function _(e){if(e<=999)return e.toString();if(e<=9999){const t=(e/1e3).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","k"):t+"k"}if(e<=99999)return e.toString().substring(0,2)+"k";if(e<=999999)return e.toString().substring(0,3)+"k";if(e<=9999999){const t=(e/1e6).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","m"):t+"m"}if(e<=99999999)return e.toString().substring(0,2)+"m";if(e<=999999999)return e.toString().substring(0,3)+"m";if(e<=9999999999){const t=(e/1e9).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","b"):t+"b"}return e}function b(e){if(!Object(n.isPlainObject)(e))return!1;const t=Object.keys(e);return 2===t.length&&(t.includes("errors")&&t.includes("error_data"))}function R(e){if(!Object(n.isPlainObject)(e))return!1;const t=Object.keys(e);return(3===t.length||4===t.length)&&(!(4===t.length&&!t.includes("additional_errors"))&&(t.includes("code")&&t.includes("message")&&t.includes("data")))}function S(e){return e instanceof E?e:b(e)?E.fromPHPObject(e):R(e)?E.fromApiError(e):new E}function P(e){const t={};for(const[r,n]of e)t[r]=n;return t}function v(e,t){const r=[[],[]];for(const n of e)r[t(n)?0:1].push(n);return r}function T(e){if(e instanceof Error)throw e;throw new y(e)}const x="https://secure.gravatar.com/avatar/d7a973c7dab26985da5f961be7b74480?s=96&d=mm&f=y&r=g";function w(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(n.get)(e,["_links","self",0,"targetHints",t],r?void 0:[])}function j(e){return function(e,t){return Object(n.get)(e,["_links",t,0,"href"])}(e,"self")}function I(e,t){if(e&&e.links)for(const r of e.links)if(r.rel===t)return r}function A(e,t){if("object"!==e.type)return e;let r;for(const o in t)t.hasOwnProperty(o)&&"hidden"===t[o]["ui:widget"]&&(r||(r=Object(n.cloneDeep)(e)),delete r.properties[o]);return r||e}function D(e){let t=[];if(!e)return t;const r=e instanceof E?e:S(Object(n.pick)(e,["code","message","data"]));return"rest_invalid_param"===r.getErrorCode()&&(t=Object.values(r.getErrorData().params)),[...r.getAllErrorMessages(),...t]}},YLtl:function(e,t){!function(){e.exports=this.lodash}()},l3Sj:function(e,t){!function(){e.exports=this.wp.i18n}()},pPDe:function(e,t,r){"use strict";var n,o;function i(e){return[e]}function s(){var e={clear:function(){e.head=null}};return e}function c(e,t,r){var n;if(e.length!==t.length)return!1;for(n=r;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n={},o="undefined"!=typeof WeakMap,t.a=function(e,t){var r,u;function a(){r=o?new WeakMap:s()}function d(){var r,n,o,i,s,a=arguments.length;for(i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];for(s=t.apply(null,i),(r=u(s)).isUniqueByDependants||(r.lastDependants&&!c(s,r.lastDependants,0)&&r.clear(),r.lastDependants=s),n=r.head;n;){if(c(n.args,i,1))return n!==r.head&&(n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=r.head,n.prev=null,r.head.prev=n,r.head=n),n.val;n=n.next}return n={val:e.apply(null,i)},i[0]=null,n.args=i,r.head&&(r.head.prev=n,n.next=r.head),r.head=n,n.val}return t||(t=i),u=o?function(e){var t,o,i,c,u,a=r,d=!0;for(t=0;t<e.length;t++){if(o=e[t],!(u=o)||"object"!=typeof u){d=!1;break}a.has(o)?a=a.get(o):(i=new WeakMap,a.set(o,i),a=i)}return a.has(n)||((c=s()).isUniqueByDependants=d,a.set(n,c)),a.get(n)}:function(){return r},d.getDependants=t,d.clear=a,a(),d}},z1rk:function(e,t){!function(){e.exports=this.itsec.packages.data}()}},[["Lykm",0,1]]]);